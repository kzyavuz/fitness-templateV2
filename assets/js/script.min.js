const navbar=document.querySelector(".navbar"),navLinks=document.querySelectorAll(".navbar-nav .nav-link"),statNumbers=document.querySelectorAll(".stat-number"),filterBtns=document.querySelectorAll(".filter-btn"),galleryItems=document.querySelectorAll(".gallery-item"),galleryZoomBtns=document.querySelectorAll(".gallery-zoom"),modalImage=document.getElementById("modalImage"),contactForm=document.getElementById("contactForm"),formSuccess=document.getElementById("formSuccess");function initTheme(){const savedTheme=localStorage.getItem("theme")||"dark";document.documentElement.setAttribute("data-theme",savedTheme),updateThemeIcon(savedTheme)}function toggleTheme(){const newTheme="dark"===document.documentElement.getAttribute("data-theme")?"light":"dark";document.documentElement.setAttribute("data-theme",newTheme),localStorage.setItem("theme",newTheme),updateThemeIcon(newTheme),document.body.style.transition="background-color 0.5s ease, color 0.5s ease"}function updateThemeIcon(theme){document.querySelectorAll(".theme-toggle i").forEach((icon=>{icon.className="dark"===theme?"bi bi-sun-fill":"bi bi-moon-fill"}))}function handleNavbarScroll(){window.scrollY>50?navbar?.classList.add("scrolled"):navbar?.classList.remove("scrolled")}function easeOutQuart(t){return 1-Math.pow(1-t,4)}function animateCounter(element){const target=Number.parseInt(element.getAttribute("data-count")),startTime=performance.now();requestAnimationFrame((function updateCounter(currentTime){const elapsed=currentTime-startTime,progress=Math.min(elapsed/2500,1),easedProgress=easeOutQuart(progress),current=Math.floor(easedProgress*target);element.textContent=current.toLocaleString(),progress<1?requestAnimationFrame(updateCounter):element.textContent=target.toLocaleString()}))}initTheme(),document.addEventListener("click",(e=>{e.target.closest(".theme-toggle")&&toggleTheme()})),window.addEventListener("scroll",handleNavbarScroll);const counterObserver=new IntersectionObserver((entries=>{entries.forEach((entry=>{entry.isIntersecting&&(animateCounter(entry.target),counterObserver.unobserve(entry.target))}))}),{threshold:.5});statNumbers.forEach((counter=>counterObserver.observe(counter)));const fadeElements=document.querySelectorAll(".feature-card, .program-card, .testimonial-card, .team-card, .service-card, .pricing-card, .value-item, .contact-item, .gallery-item, .section-header"),fadeObserver=new IntersectionObserver((entries=>{entries.forEach(((entry,index)=>{if(entry.isIntersecting){const delay=entry.target.dataset.delay||100*index;setTimeout((()=>{entry.target.classList.add("visible"),entry.target.style.opacity="1",entry.target.style.transform="translateY(0) scale(1)"}),Math.min(delay,500)),fadeObserver.unobserve(entry.target)}}))}),{threshold:.1,rootMargin:"0px 0px -50px 0px"});function createParticles(){const particlesContainer=document.getElementById("particles");if(!particlesContainer)return;for(let i=0;i<80;i++){const particle=document.createElement("div");particle.className="particle";const size=6*Math.random()+2,duration=15*Math.random()+10,delay=10*Math.random(),startX=100*Math.random(),startY=100*Math.random();particle.style.cssText=`\n      position: absolute;\n      width: ${size}px;\n      height: ${size}px;\n      background: radial-gradient(circle, rgba(255, 77, 77, ${.6*Math.random()+.2}) 0%, transparent 70%);\n      border-radius: 50%;\n      left: ${startX}%;\n      top: ${startY}%;\n      pointer-events: none;\n      animation: particleFloat${i%4} ${duration}s ease-in-out infinite;\n      animation-delay: -${delay}s;\n    `,particlesContainer.appendChild(particle)}}fadeElements.forEach(((el,index)=>{el.style.opacity="0",el.style.transform="translateY(30px)",el.style.transition="opacity 0.6s cubic-bezier(0.4, 0, 0.2, 1), transform 0.6s cubic-bezier(0.4, 0, 0.2, 1)",el.dataset.delay=80*index,fadeObserver.observe(el)})),filterBtns.length>0&&filterBtns.forEach((btn=>{btn.addEventListener("click",(()=>{filterBtns.forEach((b=>b.classList.remove("active"))),btn.classList.add("active");const filter=btn.getAttribute("data-filter");galleryItems.forEach(((item,index)=>{const category=item.getAttribute("data-category");"all"===filter||category===filter?setTimeout((()=>{item.style.display="block",setTimeout((()=>{item.style.opacity="1",item.style.transform="scale(1)"}),50)}),50*index):(item.style.opacity="0",item.style.transform="scale(0.8)",setTimeout((()=>{item.style.display="none"}),300))}))}))})),galleryZoomBtns.length>0&&galleryZoomBtns.forEach((btn=>{btn.addEventListener("click",(()=>{const imgSrc=btn.closest(".gallery-item").querySelector("img").src;modalImage&&(modalImage.src=imgSrc)}))})),contactForm&&contactForm.addEventListener("submit",(e=>{e.preventDefault();const name=document.getElementById("name")?.value,phone=document.getElementById("phone")?.value,email=document.getElementById("email")?.value,privacy=document.getElementById("privacy")?.checked;if(name&&phone&&email&&privacy){const submitBtn=contactForm.querySelector('button[type="submit"]');submitBtn.innerHTML='<i class="bi bi-check-circle me-2"></i>Gönderildi!',submitBtn.disabled=!0,setTimeout((()=>{contactForm.style.opacity="0",contactForm.style.transform="scale(0.9)",setTimeout((()=>{contactForm.style.display="none",formSuccess.style.display="block",formSuccess.style.opacity="0",formSuccess.style.transform="scale(0.9)",setTimeout((()=>{formSuccess.style.opacity="1",formSuccess.style.transform="scale(1)"}),50)}),300)}),500),contactForm.reset()}}));const particleStyles=document.createElement("style");particleStyles.textContent="\n  @keyframes particleFloat0 {\n    0%, 100% { transform: translate(0, 0) rotate(0deg); opacity: 0; }\n    10% { opacity: 1; }\n    50% { transform: translate(50px, -100px) rotate(180deg); }\n    90% { opacity: 1; }\n    100% { transform: translate(100px, -200px) rotate(360deg); opacity: 0; }\n  }\n  @keyframes particleFloat1 {\n    0%, 100% { transform: translate(0, 0) rotate(0deg); opacity: 0; }\n    10% { opacity: 1; }\n    50% { transform: translate(-80px, -80px) rotate(-180deg); }\n    90% { opacity: 1; }\n    100% { transform: translate(-160px, -160px) rotate(-360deg); opacity: 0; }\n  }\n  @keyframes particleFloat2 {\n    0%, 100% { transform: translate(0, 0) scale(1); opacity: 0; }\n    10% { opacity: 1; }\n    50% { transform: translate(30px, -120px) scale(1.5); }\n    90% { opacity: 1; }\n    100% { transform: translate(60px, -240px) scale(0.5); opacity: 0; }\n  }\n  @keyframes particleFloat3 {\n    0%, 100% { transform: translate(0, 0) scale(1); opacity: 0; }\n    10% { opacity: 1; }\n    50% { transform: translate(-50px, -60px) scale(0.8); }\n    90% { opacity: 1; }\n    100% { transform: translate(-100px, -120px) scale(1.2); opacity: 0; }\n  }\n",document.head.appendChild(particleStyles),createParticles(),document.querySelectorAll('a[href^="#"]').forEach((anchor=>{anchor.addEventListener("click",(function(e){e.preventDefault();const target=document.querySelector(this.getAttribute("href"));target&&target.scrollIntoView({behavior:"smooth",block:"start"})}))}));const navbarCollapse=document.querySelector(".navbar-collapse"),navbarToggler=document.querySelector(".navbar-toggler");function createBackToTopButton(){const btn=document.createElement("button");btn.className="back-to-top",btn.innerHTML='<i class="bi bi-arrow-up"></i>',btn.setAttribute("aria-label","Yukarı çık"),document.body.appendChild(btn),window.addEventListener("scroll",(()=>{window.scrollY>500?btn.classList.add("visible"):btn.classList.remove("visible")})),btn.addEventListener("click",(()=>{window.scrollTo({top:0,behavior:"smooth"})}))}navLinks.forEach((link=>{link.addEventListener("click",(()=>{navbarCollapse?.classList.contains("show")&&navbarToggler?.click()}))})),createBackToTopButton();const playVideoBtn=document.getElementById("playVideoBtn");playVideoBtn&&playVideoBtn.addEventListener("click",(()=>{const videoModal=document.createElement("div");videoModal.className="video-modal",videoModal.style.cssText="\n      position: fixed;\n      inset: 0;\n      background: rgba(0,0,0,0.95);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      z-index: 10000;\n      opacity: 0;\n      transition: opacity 0.3s ease;\n    ",videoModal.innerHTML='\n      <div style="max-width: 900px; width: 90%; position: relative;">\n        <button style="position: absolute; top: -50px; right: 0; background: none; border: none; color: white; font-size: 2rem; cursor: pointer;">\n          <i class="bi bi-x-lg"></i>\n        </button>\n        <div style="background: var(--bg-card); padding: 40px; border-radius: 12px; text-align: center;">\n          <i class="bi bi-play-circle" style="font-size: 5rem; color: var(--primary-color); margin-bottom: 20px; display: block;"></i>\n          <h3 style="color: var(--text-primary); margin-bottom: 10px;">Tur Videosu</h3>\n          <p style="color: var(--text-secondary);">Video içeriği burada oynatılacak.</p>\n        </div>\n      </div>\n    ',document.body.appendChild(videoModal),document.body.style.overflow="hidden",setTimeout((()=>{videoModal.style.opacity="1"}),10),videoModal.addEventListener("click",(e=>{(e.target===videoModal||e.target.closest("button"))&&(videoModal.style.opacity="0",setTimeout((()=>{videoModal.remove(),document.body.style.overflow=""}),300))}))}));let ticking=!1;window.addEventListener("scroll",(()=>{ticking||(requestAnimationFrame((()=>{const scrolled=window.pageYOffset,heroContent=document.querySelector(".hero-content"),heroImage=document.querySelector(".hero-image-wrapper");heroContent&&scrolled<window.innerHeight&&(heroContent.style.transform=`translateY(${.4*scrolled}px)`,heroContent.style.opacity=1-scrolled/(.8*window.innerHeight)),heroImage&&scrolled<window.innerHeight&&(heroImage.style.transform=`translateY(${.2*scrolled}px)`),ticking=!1})),ticking=!0)})),document.querySelectorAll(".btn-primary, .btn-lg").forEach((btn=>{btn.addEventListener("mousemove",(e=>{const rect=btn.getBoundingClientRect(),x=e.clientX-rect.left-rect.width/2,y=e.clientY-rect.top-rect.height/2;btn.style.transform=`translate(${.1*x}px, ${.1*y}px) translateY(-3px)`})),btn.addEventListener("mouseleave",(()=>{btn.style.transform=""}))})),document.querySelectorAll(".feature-card, .program-card, .service-card, .pricing-card").forEach((card=>{card.addEventListener("mousemove",(e=>{const rect=card.getBoundingClientRect(),x=e.clientX-rect.left,y=e.clientY-rect.top,centerX=rect.width/2,rotateX=(y-rect.height/2)/20,rotateY=(centerX-x)/20;card.style.transform=`perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) translateY(-10px)`})),card.addEventListener("mouseleave",(()=>{card.style.transform=""}))}));class TextScramble{constructor(el){this.el=el,this.chars="!<>-_\\/[]{}—=+*^?#_",this.update=this.update.bind(this)}setText(newText){const oldText=this.el.innerText,length=Math.max(oldText.length,newText.length),promise=new Promise((resolve=>this.resolve=resolve));this.queue=[];for(let i=0;i<length;i++){const from=oldText[i]||"",to=newText[i]||"",start=Math.floor(40*Math.random()),end=start+Math.floor(40*Math.random());this.queue.push({from:from,to:to,start:start,end:end})}return cancelAnimationFrame(this.frameRequest),this.frame=0,this.update(),promise}update(){let output="",complete=0;for(let i=0,n=this.queue.length;i<n;i++){let{from:from,to:to,start:start,end:end,char:char}=this.queue[i];this.frame>=end?(complete++,output+=to):this.frame>=start?((!char||Math.random()<.28)&&(char=this.randomChar(),this.queue[i].char=char),output+=`<span style="color: var(--primary-color);">${char}</span>`):output+=from}this.el.innerHTML=output,complete===this.queue.length?this.resolve():(this.frameRequest=requestAnimationFrame(this.update),this.frame++)}randomChar(){return this.chars[Math.floor(Math.random()*this.chars.length)]}}const heroTitle=document.querySelector(".hero-title");if(heroTitle){const originalText=heroTitle.textContent,fx=new TextScramble(heroTitle);setTimeout((()=>{fx.setText(originalText)}),500)}function createLoadingScreen(){const loadingScreen=document.createElement("div");loadingScreen.className="loading-screen",loadingScreen.innerHTML='\n    <div style="text-align: center;">\n      <div class="loader"></div>\n      <p style="margin-top: 20px; color: var(--primary-color); font-weight: 600; text-transform: uppercase; letter-spacing: 2px;">PowerFit</p>\n    </div>\n  ',document.body.appendChild(loadingScreen),window.addEventListener("load",(()=>{setTimeout((()=>{loadingScreen.classList.add("hidden"),setTimeout((()=>{loadingScreen.remove()}),500)}),100)}))}function createCursorFollower(){if(window.innerWidth<992)return;const cursor=document.createElement("div");cursor.className="cursor-follower",document.body.appendChild(cursor);let mouseX=0,mouseY=0,cursorX=0,cursorY=0;document.addEventListener("mousemove",(e=>{mouseX=e.clientX,mouseY=e.clientY})),function animate(){cursorX+=.1*(mouseX-cursorX),cursorY+=.1*(mouseY-cursorY),cursor.style.left=cursorX+"px",cursor.style.top=cursorY+"px",requestAnimationFrame(animate)}(),document.querySelectorAll("a, button, .btn").forEach((el=>{el.addEventListener("mouseenter",(()=>cursor.classList.add("active"))),el.addEventListener("mouseleave",(()=>cursor.classList.remove("active")))}))}"complete"!==document.readyState&&createLoadingScreen(),createCursorFollower(),document.addEventListener("DOMContentLoaded",(()=>{console.log("PowerFit website loaded successfully!");document.querySelectorAll(".contact-form-wrapper, #formSuccess").forEach((el=>{el.style.transition="opacity 0.3s ease, transform 0.3s ease"}))}));